<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KFC</title>
    <link rel="icon" href="./Restaurants/drumstick-bite1.png" type="image/icon type">
<link rel="stylesheet" href="kfc.css">
<script src="https://kit.fontawesome.com/a076d05399.js"></script>
</head>
<body onload="start()">
    <!--Header section start-->
    <header>
        <a href="./home.html" class="logo"><i class="fa fa-drumstick-bite"></i>GetSnack'd</a>
        <nav class="navbar">
            <a class="active" href="./home.html">Home</a>
            <a href="#" onclick="openAbout()">about</a>
            <a href="./contact.html" >Contact us</a>
           
            <a class="feed" id="feedback">feedback</a>
            <a href="#">Orders</a>
        </nav>
        <div class="icons">
            <i class="fas fa-bars" id="menu-bars"></i>
            <i class="fas fa-search" id="search-icon"></i>
            <a href="#" class="fas fa-shopping-cart"></a>
            <i class="fa fa-user" aria-hidden="true"></i>
            <a href="login.html" class="fas fa-sign-in-alt"></a>
            
        </div>

         <!--search form-->
    <form action="" id="search-form">
        <input type="search" placeholder="search here..." name="" id="search-box">
        <label for="search-box" class="fas fa-search"></label>
        <i class="fas fa-times" id="close1"></i>
    </form>
    <!--Search Form ends-->
    </header>

<!--Rating Form starts-->

<div class="back">
    <div class="container1" id="co1">
        <div class="post">
            <div class="text">Thanks for Rating us!</div>
            <div class="edit">Edit</div>
            <i class="fas fa-times" id="close"></i>
    
        </div>
        <div class="star-widget">
        <input type="radio" name="rate" id="rate-5">
        <label for="rate-5" class="fas fa-star"></label>
        <input type="radio" name="rate" id="rate-4">
        <label for="rate-4" class="fas fa-star"></label>
        <input type="radio" name="rate" id="rate-3">
        <label for="rate-3" class="fas fa-star"></label>
        <input type="radio" name="rate" id="rate-2">
        <label for="rate-2" class="fas fa-star"></label>
        <input type="radio" name="rate" id="rate-1">
        <label for="rate-1" class="fas fa-star"></label>
        <form action="#">
            <i class="fas fa-times" id="close"></i>
            <h4></h4>
            <div class="textarea">
                <textarea cols="30" placeholder="Describe your experience"></textarea>
    
            </div>
            
            <div class="btn">
                <button type="submit">Post</button>
            </div>
        </form>
        </div>    
    </div>
    </div>
<!--Rating form ends-->
<!--side bar-->

<nav class="sidebar">
    <div class="text">
    <a href="./kfc.html"><i class="fa fa-home"></i></a>
    <ul>
        <li><a href="#Mania" onclick="myroti()">Starters</a></li>
        <li><a href="#nonpizza" onclick="myfunction()">Pizza</a></li>
        <li><a href="#pizza" onclick="myfun()">Pasta</a></li>

    </ul>
</div>
</nav>
<!--Side bar ends-->
<section class="home" id="home">
    <div class="barb">
    <h2><img src="./Restaurants/kfc.png" height="350"></h2>
    <div class="cont">
        <iframe width="420" height="315"
        src="https://www.youtube.com/embed/BrcpkSBx00M" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
    </iframe>
        </div>
        </div>
</section>

<section class="pizzamania" id="mania">
    <h2 class="dominos">Pizza Hut</h2>
    <hr class="line">
    <h4>Starters</h4> 
    <div class="box-mania">
        <div id="dbFoodsstart"></div>
    </div>
</section>

<section class="nonveg" id="nonpizza">
    <h2 class="dominos">Pizza Hut</h2>
    <hr class="line">
    <h4>Pizza</h4> 
    <div class="box-nonpizza">
        <div id="dbFoodsmain"></div>
</div>
</section>

<section class="veg" id="pizza">
    <h2 class="dominos">Pizza Hut</h2>
    <hr class="line">
    <h4>Pasta</h4>  
    <div class="box-container">
        <div id="dbFoodsspecial"></div>
    </div>
    
</section>
<!--Footer Section-->
<div id="about" class="about">
    <a href="#" class="closebtn" onclick="closeNav()">&times;</a>
    <div class="about-overlay">
        <h1>About us</h1>
        <p>Launched in 2022, Our website connects customers to,<br> 
        restaurants and delivery partners, serving their craving needs. <br>
        Customers use our platform to search and discover restaurants, order food delivery,<br> book a table and make 
        payments from the comforts of their home. On the other hand,<br> we provide restaurant partners 
        with industry-specific marketing tools which enable them<br> to engage with customers to 
        broaden their business while also providing a reliable <br>and efficient delivery service. </p>
    </div>
</div>

<!--Home  ends-->


<!--Java Script-->
    <script>
        let menu = document.querySelector('#menu-bars');
        let navbar = document.querySelector('.navbar');
        
        menu.onclick = () => {
            menu.classList.toggle('fa-times');
            navbar.classList.toggle('active');
        }
        window.onscroll=() => {
            menu.classList.remove('fa-times');
            navbar.classList.remove('active');
        }
        document.querySelector('#search-icon').onclick=() => {
            document.querySelector('#search-form').classList.toggle('active');
        }
        document.querySelector('#close1').onclick=() => {
            document.querySelector('#search-form').classList.toggle('active');
        }
        document.querySelector("#feedback").onclick=() =>{
        document.querySelector("#co1").classList.toggle("active");
    }
        document.querySelector("#close").onclick=() =>{
        document.querySelector("#co1").classList.toggle("active");

    }
    function myfun(){
        document.getElementById("pizza").style.display="block";
    }
    function myfunction(){
        document.getElementById("nonpizza").style.display="block";
    }
    function myroti(){
        document.getElementById("mania").style.display="block";
    }
        const btn = document.querySelector("button");
        const post = document.querySelector(".post");
        const widget = document.querySelector(".star-widget");
        const editBtn = document.querySelector(".edit");
    
        btn.onclick = () =>{
        widget.style.display = "none";
        post.style.display = "block";
        editBtn.onclick = () =>{
            widget.style.display = "block";
            post.style.display = "none";
        }
        return false;
    }
        function openAbout(){
        document.getElementById("about").style.width = "100%";

    }
    function closeNav(){
        document.getElementById("about").style.width = "0%";
    }
   
    async function fetchFoodsstarter(type) {
              document.getElementById("dbFoodsstart").innerHTML = null
              try {
                const resp = await fetch('http://localhost:8000/api/foods/', {
                    method: 'GET',
                    header: {
                        'Content-Type': 'application/json'
                    }
                })
                
                const foods = await resp.json()
                foodsState = foods
                const foodElementList = foods.map((food) => {
                    if(type == food.food_type && food.restaurant == 2){
                    return `
                    <div class="box">
                        <img src="${food.food_img}">
                        <h3>${food.food_name}</h3>
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                            <span>${food.food_price}</span>
                        <br>
                        <a href="#" class="btn">Add to cart</a>
                    </div>`
                }
                })
                let foodsHTML = foodElementList.join('')
                document.getElementById("dbFoodsstart").innerHTML += foodsHTML
                
            } catch (err) {
                console.log(err)
            }
        }

        async function fetchFoodsmain(type) {
              document.getElementById("dbFoodsmain").innerHTML = null
              try {
                const resp = await fetch('http://localhost:8000/api/foods/', {
                    method: 'GET',
                    header: {
                        'Content-Type': 'application/json'
                    }
                })
                
                const foods = await resp.json()
                foodsState = foods
                const foodElementList = foods.map((food) => {
                    if(type == food.food_type && food.restaurant == 2){
                    return `
                    <div class="box">
                        <img src="${food.food_img}">
                        <h3>${food.food_name}</h3>
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                            <span>${food.food_price}</span>
                        <br>
                        <a href="#" class="btn">Add to cart</a>
                    </div>`
                }
                })
                let foodsHTML = foodElementList.join('')
                document.getElementById("dbFoodsmain").innerHTML += foodsHTML
                
            } catch (err) {
                console.log(err)
            }
        }

        async function fetchFoodsspecial(type) {
              document.getElementById("dbFoodsspecial").innerHTML = null
              try {
                const resp = await fetch('http://localhost:8000/api/foods/', {
                    method: 'GET',
                    header: {
                        'Content-Type': 'application/json'
                    }
                })
                
                const foods = await resp.json()
                foodsState = foods
                const foodElementList = foods.map((food) => {
                    if(type == food.food_type && food.restaurant == 2){
                    return `
                    <div class="box">
                        <img src="${food.food_img}">
                        <h3>${food.food_name}</h3>
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                            <span>${food.food_price}</span>
                        <br>
                        <a href="#" class="btn">Add to cart</a>
                    </div>`
                }
                })
                let foodsHTML = foodElementList.join('')
                document.getElementById("dbFoodsspecial").innerHTML += foodsHTML
                
            } catch (err) {
                console.log(err)
            }
        }

        function start(){
        fetchFoodsstarter("STARTERS");
        fetchFoodsmain("MAINS");
        fetchFoodsspecial("SPECIAL");
    }
    </script>
    <!--JavaScript ends -->

</body>
</html>