<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="icon" href="./Restaurants/drumstick-bite1.png" type="image/icon type">
<link rel="stylesheet" href="home.css">
<script src="https://kit.fontawesome.com/a076d05399.js"></script>
</head>
<body onload="start()">
<div class="loader-container" id = "loader">
    <img src="./loader/loader2.gif">
    
</div>

    <!--Header section start-->
    <header>
        <a href="#" class="logo"><i class="fa fa-drumstick-bite"></i>GetSnack'd</a>
        <nav class="navbar">
            <a class="active" href="./home.html">Home</a>
            <a href="#" onclick="openAbout()">about</a>
            <a href="./contact.html" >Contact us</a>
           
            <a class="feed" id="feedback">feedback</a>
            <a href="#">Orders</a>
        </nav>
        <div class="icons">
            <i class="fas fa-bars" id="menu-bars"></i>
            <i class="fas fa-search" id="search-icon"></i>
            <a href="#" class="fas fa-shopping-cart"></a>
            <i class="fa fa-user" aria-hidden="true"></i>
            <a href="login.html" class="fas fa-sign-in-alt"></a>
            
        </div>
    </header>
    <div class="back">
    <div class="container1" id="co1">
        <div class="post">
            <div class="text">Thanks for Rating us!</div>
            <div class="edit">Edit</div>
            <i class="fas fa-times" id="close"></i>
    
        </div>
        <div class="star-widget">
        <input type="radio" name="rate" id="rate-5">
        <label for="rate-5" class="fas fa-star"></label>
        <input type="radio" name="rate" id="rate-4">
        <label for="rate-4" class="fas fa-star"></label>
        <input type="radio" name="rate" id="rate-3">
        <label for="rate-3" class="fas fa-star"></label>
        <input type="radio" name="rate" id="rate-2">
        <label for="rate-2" class="fas fa-star"></label>
        <input type="radio" name="rate" id="rate-1">
        <label for="rate-1" class="fas fa-star"></label>
        <form action="#">
            <i class="fas fa-times" id="close"></i>
            <h4></h4>
            <div class="textarea">
                <textarea cols="30" placeholder="Describe your experience"></textarea>
    
            </div>
            
            <div class="btn">
                <button type="submit">Post</button>
            </div>
        </form>
        </div>    
    </div>
    </div>
    <!-- Header section ends-->

    <!--search form-->
    <form action="" id="search-form">
        <input type="search" placeholder="Search food..." name="" id="search-box">
        <label for="search-box" class="fas fa-search"></label>
        <i class="fas fa-times" id="close1"></i>
    </form>
    <!--Search Form ends-->

    <!--Home section start-->
    <section class="home" id="home-section">
<!--Add-->
<div class="add">
 <div class="add-container">
 <img src="./banner/burger.gif">
 <div class="textimg"><h2>20% discount on<br>Your first order</h2>
 <a href="./takeout.html"><button class="ordr">Order Now</button></a></div>
 
 </div>
</div>
<!--Add ends-->
<!--Specials-->
    <div class="pplr">
        <h2>Popular Dishes</h2>
</div>

<div class="table">
    <div id="dbFoodspplr"></div>
</div>
 
  </div>
<!--Top Restaurants-->
<div class="top-re">
    <h2>Popular Restaurants</h2>
</div>
<div class="table1">
    <a href="./PizzaHut.html"><img src="./Restaurants/Pizza_Hut_logo.svg.png" height="150"><h4>Pizza Hut</h4><p>Starters, Pizza, Pasta </p></a>
    <a href="./kfc.html"><img src="./Restaurants/kfc.png" height="150"><h4>KFC</h4><p>Starters, Burgers, Buckets</p></a>
</div>

<!--Restaurants-->
<div class="res">
    <h2>All Restaurants</h2>
    <hr class="line">
</div>
<section class="barb" id="biryani">
    <h1 class="barbeque">Restaurants</h1>
    <hr class="line"> 
    <div class="box-container">
    <div class="box">
        <a href="./PizzaHut.html"><img src="./Restaurants/Pizza_Hut_logo.svg.png"></a>
        <h3>Pizza Hut</h3>
        <div class="stars">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <br>
            <p>Starters,Pizza,Pasta</p>

        </div>
        </div>
        <div class="box">
        <a href="./kfc.html"><img src="./Restaurants/kfc.png"></a>
        <h3>KFC</h3>
        <div class="stars">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star-half-alt"></i>
            <br>
            <p>Starters,biryani,tandoori</p>

        </div>
        </div>
        <div class="box">
        <a href="./takeout.html"><img src="./Restaurants/takeout.jpg"></a>
        <h3>Takeout</h3>
        <div class="stars">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="far fa-star"></i>
            <br>
            <p>Pizza ,Burger, Bread</p>

        </div>
        </div>
        
        </div>
        </section>
    

</section>
<div id="about" class="about">
    <a href="#" class="closebtn" onclick="closeNav()">&times;</a>
    <div class="about-overlay">
        <h1>About us</h1>
        <p>Launched in 2022, Our website connects customers to,<br> 
        restaurants and delivery partners, serving their craving needs. <br>
        Customers use our platform to search and discover restaurants, order food delivery,<br> book a table and make 
        payments from the comforts of their home. On the other hand,<br> we provide restaurant partners 
        with industry-specific marketing tools which enable them<br> to engage with customers to 
        broaden their business while also providing a reliable <br>and efficient delivery service. </p>
    </div>
</div>

<!--Home  ends-->

    

    <!--Java Script-->
    <script>
        let resState = null
        let menu = document.querySelector('#menu-bars');
        let navbar = document.querySelector('.navbar');
        
        menu.onclick = () => {
            menu.classList.toggle('fa-times');
            navbar.classList.toggle('active');
        }
        window.onscroll=() => {
            menu.classList.remove('fa-times');
            navbar.classList.remove('active');
        }
        document.querySelector('#search-icon').onclick=() => {
            document.querySelector('#search-form').classList.toggle('active');
        }
        document.querySelector('#close1').onclick=() => {
            document.querySelector('#search-form').classList.toggle('active');
        }
        document.querySelector("#feedback").onclick=() =>{
        document.querySelector("#co1").classList.toggle("active");
    }
        document.querySelector("#close").onclick=() =>{
        document.querySelector("#co1").classList.toggle("active");
    }
    var preloader = document.getElementById("loading");
    function myload() {
        preloader.style.display="none";
    }


        const btn = document.querySelector("button");
        const post = document.querySelector(".post");
        const widget = document.querySelector(".star-widget");
        const editBtn = document.querySelector(".edit");
    
        btn.onclick = () =>{
        widget.style.display = "none";
        post.style.display = "block";
        editBtn.onclick = () =>{
            widget.style.display = "block";
            post.style.display = "none";
        }
        return false;
    }
    function openAbout(){
        document.getElementById("about").style.width = "100%";

    }
    function closeNav(){
        document.getElementById("about").style.width = "0%";
    }
    var preloader = document.getElementById("loader");
    
    function myloader(){
        preloader.style.display = "none";
    }

    async function fetchFoodsstarter() {
              document.getElementById("dbFoodspplr").innerHTML = null
              try {
                const resp = await fetch('http://localhost:8000/api/foods/', {
                    method: 'GET',
                    header: {
                        'Content-Type': 'application/json'
                    }
                })
                
                const foods = await resp.json()
                foodsState = foods
                const foodElementList = foods.map((food) => {
                    if(food.food_rating == 5){
                    return `
                    <a href="${food.food_link}"><img src="${food.food_img}" height="150"><h4>${food.food_name}</h4></a>
                    `
                }
                })
                let foodsHTML = foodElementList.join('')
                document.getElementById("dbFoodspplr").innerHTML += foodsHTML
                
            } catch (err) {
                console.log(err)
            }
        }


function start(){
    myload();
    fetchFoodsstarter();
}
    </script>
    
    <!--JavaScript ends -->

</body>
</html>